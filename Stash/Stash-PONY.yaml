#
mode: rule
log-level: info
#
dns:
  default-nameserver:
  - 114.114.115.115
  - 114.114.114.114
  - 119.28.28.28
  - 223.5.5.5
  - 223.6.6.6
  - system
  
  nameserver:
  - https://dns.alidns.com/dns-query
  - https://doh.pub/dns-query
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  #列表中的域名将不会被解析为fake ip，这些域名相关的解析请求将会返回它们真实的IP地址
  # fake-ip-filter: []
  fake-ip-filter:
    - '*.lan'
    - localhost.ptlogin2.qq.com
    - '+.srv.nintendo.net'
    - '+.stun.playstation.net'
    - '+.msftconnecttest.com'
    - '+.msftncsi.com'
    - '+.xboxlive.com'
    - 'msftconnecttest.com'
    - 'xbox.*.microsoft.com'
    - '*.battlenet.com.cn'
    - '*.battlenet.com'
    - '*.blzstatic.cn'
    - '*.battle.net'

## 代理组
proxy-groups:
# 手动选择
- icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Proxy.png
  name: Proxy_Sel
  proxies:
  - AUTO-SEL
  - SELECTED
  - HK-AUTO
  - TW-AUTO
  - SG-AUTO
  - JP-AUTO
  - US-AUTO
  - DIRECT
  type: select
# 指定
- icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Static.png
  include-all: true
  interval: 120
  lazy: true
  name: SELECTED
  type: select
  url: http://cp.cloudflare.com/generate_204
# Netflix
- icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Netflix.png
  name: Netflix
  proxies:
  - AUTO-SEL
  - SELECTED
  - HK-AUTO
  - TW-AUTO
  - SG-AUTO
  - JP-AUTO
  - US-AUTO
  - DIRECT
  type: select
# Disney+
- icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Disney%2B.png
  name: Disney+
  proxies:
  - AUTO-SEL
  - SELECTED
  - HK-AUTO
  - TW-AUTO
  - SG-AUTO
  - JP-AUTO
  - US-AUTO
  - DIRECT
  type: select
# Spotify
- icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Spotify.png
  name: Spotify
  proxies:
  - AUTO-SEL
  - SELECTED
  - HK-AUTO
  - TW-AUTO
  - SG-AUTO
  - JP-AUTO
  - US-AUTO
  - DIRECT
  type: select
# YouTube
- icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/YouTube.png
  name: YouTube
  proxies:
  - AUTO-SEL
  - SELECTED
  - HK-AUTO
  - HK-Sel
  - TW-AUTO
  - SG-AUTO
  - SG-Sel
  - JP-AUTO
  - US-AUTO
  - US-Sel
  - DIRECT
  type: select
# Speedtest
- icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Speedtest.png
  name: Speedtest
  proxies:
  - AUTO-SEL
  - SELECTED
  - HK-AUTO
  - TW-AUTO
  - SG-AUTO
  - JP-AUTO
  - US-AUTO
  - DIRECT
  type: select
# 默认
- icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Final.png
  name: Default
  proxies:
  - US-AUTO
  - TW-AUTO
  - HK-AUTO
  - Proxy_Sel
  - DIRECT
  type: select
# 自动选择
- icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Auto.png
  include-all: true
  interval: 120
  lazy: true
  name: AUTO-SEL
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204

## 区域
- filter: "港|\U0001F1ED\U0001F1F0|HK|(?i)Hong"
  icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Hong_Kong.png
  include-all: true
  interval: 120
  lazy: true
  name: HK-AUTO
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204

- filter: "港|\U0001F1ED\U0001F1F0|HK|(?i)Hong"
  icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/mini/Hong_Kong.png
  include-all: true
  interval: 120
  lazy: true
  name: HK-Sel
  proxies: []
  tolerance: 50
  type: select
  url: http://cp.cloudflare.com/generate_204

- filter: "新加坡|坡|狮城|\U0001F1F8\U0001F1EC|SG|(?i)Singapore"
  icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Singapore.png
  include-all: true
  interval: 120
  lazy: true
  name: SG-AUTO
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204

- filter: "新加坡|坡|狮城|\U0001F1F8\U0001F1EC|SG|(?i)Singapore"
  icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/mini/Singapore.png
  include-all: true
  interval: 120
  lazy: true
  name: SG-Sel
  proxies: []
  tolerance: 50
  type: select
  url: http://cp.cloudflare.com/generate_204

- filter: "美|\U0001F1FA\U0001F1F2|US|(?i)States|American"
  icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/United_States.png
  include-all: true
  interval: 120
  lazy: true
  name: US-AUTO
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204

- filter: "美|\U0001F1FA\U0001F1F2|US|(?i)States|American"
  icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/mini/United_States.png
  include-all: true
  interval: 120
  lazy: true
  name: US-Sel
  tolerance: 50
  type: select
  url: http://cp.cloudflare.com/generate_204

- filter: "日|\U0001F1EF\U0001F1F5|东京|JP|(?i)Japan"
  icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Japan.png
  include-all: true
  interval: 120
  lazy: true
  name: JP-AUTO
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204

- filter: "台|\U0001F1E8\U0001F1F3|\U0001F1F9\U0001F1FC|湾|TW|(?i)Taiwan"
  icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/Taiwan.png
  include-all: true
  interval: 120
  lazy: true
  name: TW-AUTO
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204

##
proxy-providers:
  MySubs:
    interval: 600
    url: https://sub.store/download/collection/MySubs

##
rule-providers:
  disney:
    behavior: domain
    interval: 86400
    type: http
    url: https://rules.kr328.app/disney.yaml
  facebook:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/facebook.yaml
  github:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/github.yaml
  google:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/google.yaml
  instagram:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/instagram.yaml
  microsoft:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/microsoft.yaml
  microsoft@cn:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/microsoft@cn.yaml
  netflix:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/netflix.yaml
  speedtest:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/speedtest.yaml
  spotify:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/spotify.yaml
  steam:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/steam.yaml
  steam@cn:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/steam@cn.yaml
  telegram:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/telegram.yaml
  twitter:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/twitter.yaml
  xbox:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/xbox.yaml
  youtube:
    behavior: domain
    interval: 86400
    url: https://rules.kr328.app/youtube.yaml
##
rules:
- SCRIPT,quic,REJECT
- RULE-SET,netflix,Netflix
- RULE-SET,disney,Disney+
- RULE-SET,spotify,Spotify
- RULE-SET,speedtest,Speedtest
- RULE-SET,github,Proxy_Sel
- IP-ASN,62014,Proxy_Sel,no-resolve
- IP-ASN,59930,Proxy_Sel,no-resolve
- IP-ASN,44907,Proxy_Sel,no-resolve
- IP-ASN,211157,Proxy_Sel,no-resolve
- PROCESS-NAME,Telegram.exe,Proxy_Sel
- PROCESS-NAME,Telegram,Proxy_Sel
- RULE-SET,telegram,Proxy_Sel
- RULE-SET,youtube,YouTube
- RULE-SET,google,Proxy_Sel
- RULE-SET,twitter,Proxy_Sel
- DOMAIN-SUFFIX,tapbots.com,Proxy_Sel
- RULE-SET,instagram,Proxy_Sel
- RULE-SET,facebook,Proxy_Sel
- RULE-SET,steam@cn,DIRECT
- RULE-SET,steam,Proxy_Sel
- DOMAIN-SUFFIX,iphone-ld.apple.com,DIRECT
- DOMAIN-SUFFIX,lcdn-locator.apple.com,DIRECT
- DOMAIN-SUFFIX,lcdn-registration.apple.com,DIRECT
- DOMAIN-SUFFIX,push.apple.com,DIRECT
- PROCESS-NAME,trustd,Proxy_Sel
- RULE-SET,microsoft@cn,DIRECT
- RULE-SET,microsoft,Proxy_Sel
- RULE-SET,xbox,Proxy_Sel
- PROCESS-NAME,v2ray,DIRECT
- PROCESS-NAME,Surge,DIRECT
- PROCESS-NAME,ss-local,DIRECT
- PROCESS-NAME,privoxy,DIRECT
- PROCESS-NAME,trojan,DIRECT
- PROCESS-NAME,trojan-go,DIRECT
- PROCESS-NAME,naive,DIRECT
- PROCESS-NAME,CloudflareWARP,DIRECT
- PROCESS-NAME,Cloudflare WARP,DIRECT
- IP-CIDR,162.159.193.0/24,DIRECT,no-resolve
- PROCESS-NAME,p4pclient,DIRECT
- PROCESS-NAME,Thunder,DIRECT
- PROCESS-NAME,DownloadService,DIRECT
- PROCESS-NAME,qbittorrent,DIRECT
- PROCESS-NAME,Transmission,DIRECT
- PROCESS-NAME,fdm,DIRECT
- PROCESS-NAME,aria2c,DIRECT
- PROCESS-NAME,Folx,DIRECT
- PROCESS-NAME,NetTransport,DIRECT
- PROCESS-NAME,uTorrent,DIRECT
- PROCESS-NAME,WebTorrent,DIRECT
- GEOIP,LAN,DIRECT
- GEOIP,CN,DIRECT
- MATCH,Default
#
script:
  shortcuts:
    quic: network == 'udp' and dst_port == 443
subscribe-url: https://sub.store/download/collection/MySubs
